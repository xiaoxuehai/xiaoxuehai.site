---
title: 'linuxç¯å¢ƒå®‰è£…androidç¯å¢ƒï¼Œæ‰“åŒ…expoé¡¹ç›®'
description: 'ä»‹ç»åœ¨ Linux ç¯å¢ƒä¸‹æ­å»º Android ç¯å¢ƒçš„å®Œæ•´æµç¨‹ï¼ŒåŒ…æ‹¬ Java SDKã€Android SDK ç­‰ä¾èµ–çš„å®‰è£…é…ç½®ï¼Œä»¥åŠå¦‚ä½•å°† Expo é¡¹ç›®åœ¨æœ¬åœ°æ‰“åŒ…ä¸º Android åº”ç”¨çš„å…·ä½“æ­¥éª¤ã€‚'
date: '2025-09-07'
tags:
  - linux
  - android
  - expo
  - react-native
---

### 1.å®‰è£…java jdk

#### 1.1 ä¸‹è½½java jdk

```bash
wget â€‹https://d10.injdk.cn/openjdk/openjdk/17/openjdk-17.0.1_linux-x64_bin.tar.gzâ€‹
```

#### 1.2 è§£å‹å‹ç¼©åŒ…åˆ°æŒ‡å®šç›®å½•

æ–°å»º/app/javaç›®å½•ï¼Œè§£å‹å‹ç¼©åŒ…ï¼Œæœ€ç»ˆjdkçš„å®Œæ•´è·¯å¾„æ˜¯/app/java/jdk-17.0.1

#### 1.3 é…ç½®java jdkç¯å¢ƒå˜é‡

```bash filename="~/.bashrc"
export JAVA_HOME=/usr/lib/jvm/jdk-17.0.15-oracle-x64
export PATH=$JAVA_HOME/bin:$PATH
```

#### 1.4 éªŒè¯java jdkç¯å¢ƒå˜é‡æ˜¯å¦é…ç½®æˆåŠŸ

```bash
javac --version
# æ­£å¸¸è¾“å‡ºç‰ˆæœ¬å·åˆ™è¯´æ˜å·²æˆåŠŸå®‰è£…
```

### 2.å®‰è£…android sdk

#### 2.1 ä¸‹è½½android sdk

```bash
wget https://mirrors.cloud.tencent.com/AndroidSDK/commandlinetools-linux-13114758_latest.zip
```

#### 2.2 è§£å‹å‹ç¼©åŒ…åˆ°æŒ‡å®šç›®å½•

æ–°å»º/app/android/sdkç›®å½•ï¼Œåœ¨æ­¤ç›®å½•ä¸‹è§£å‹å‹ç¼©åŒ…ï¼Œå¾—åˆ°cmdline-toolsæ–‡ä»¶å¤¹ï¼Œåœ¨cmdline-toolsæ–‡ä»¶å¤¹å†…åˆ›å»ºlatestæ–‡ä»¶å¤¹ï¼Œå¹¶å°†cmdline-toolsä¸­åŸæ¥çš„å†…å®¹ç§»åˆ°latestæ–‡ä»¶å¤¹ä¸­ï¼Œæœ€ç»ˆsdkçš„å®Œæ•´è·¯å¾„æ˜¯/app/android/sdk/cmdline-tools/latest

#### 2.3 é…ç½®android sdkç¯å¢ƒå˜é‡

```bash filename="~/.bashrc"
export ANDROID_SDK_ROOT=/app/android/sdk
export PATH=$PATH:$ANDROID_HOME/platform-tools
export PATH=$PATH:$ANDROID_SDK_ROOT/cmdline-tools/latest/bin
```

#### 2.4 éªŒè¯android sdkç¯å¢ƒå˜é‡æ˜¯å¦é…ç½®æˆåŠŸ

```bash
sdkmanager --version
# æ­£å¸¸è¾“å‡ºç‰ˆæœ¬å·åˆ™è¯´æ˜å·²æˆåŠŸå®‰è£…
```

#### 2.5 å®‰è£…android sdkç»„ä»¶

```bash
# æŸ¥çœ‹å¯å®‰è£…çš„ç»„ä»¶åˆ—è¡¨
sdkmanager --list
# å®‰è£…å¯¹åº”ç»„ä»¶
sdkmanager --install "build-tools;36.0.0"
sdkmanager --install "ndk;27.1.12297006"
sdkmanager --install "platform-tools"
sdkmanager --install "platforms;android-35"
```

### 3.å®‰è£…node.js

#### 3.1 ä¸‹è½½nvmï¼ˆä½¿ç”¨nvmç®¡ç†node.jsç‰ˆæœ¬ï¼‰

```bash
wget -qO- https://raw.githubusercontent.com/nvm-sh/nvm/v0.40.3/install.sh | bash
```

#### 3.2 åœ¨.bashrcä¸­é…ç½®nvmç¯å¢ƒå˜é‡

```bash filename="~/.bashrc"
# æŸ¥çœ‹æ˜¯å¦å­˜åœ¨è¯¥é…ç½®ï¼Œä¸å­˜åœ¨åˆ™æ·»åŠ 
export NVM_DIR="$([ -z "${XDG_CONFIG_HOME-}" ] && printf %s "${HOME}/.nvm" || printf %s "${XDG_CONFIG_HOME}/nvm")"
[ -s "$NVM_DIR/nvm.sh" ] && \. "$NVM_DIR/nvm.sh" # This loads nvm
```

#### 3.3 éªŒè¯nvmæ˜¯å¦å®‰è£…æˆåŠŸ

```bash
nvm -v
# æ­£å¸¸è¾“å‡ºç‰ˆæœ¬å·åˆ™è¯´æ˜å·²æˆåŠŸå®‰è£…
```

#### 3.4 å®‰è£…node.js

```bash
nvm install 22.18.0
nvm use 22.18.0
```

### 4.æ‰“åŒ…expoé¡¹ç›®

#### 4.1 åˆ›å»ºexpoé¡¹ç›®

```bash
npx create-expo-app@latest
```

#### 4.2 å®‰è£…eas-cli

```bash
npm install -g eas-cli
```

#### 4.3 æ³¨å†Œeasè´¦å·

æ³¨å†Œåœ°å€ï¼šhttps://expo.dev/signup

#### 4.3 ç™»å½•

```bash
eas login
```

#### 4.4 é…ç½®é¡¹ç›®

```bash
eas build:configure
```

#### 4.5 eas.jsoné…ç½®

build.previewå±æ€§ä¸‹å¢åŠ ä»¥ä¸‹é…ç½®

```bash
"android": {
  "buildType": "apk"
}
```

#### 4.6 æœ¬åœ°æ‰“åŒ…é¡¹ç›®ï¼ˆæ‰“åŒ…è¿‡ç¨‹è¦ç¡®ä¿æœ‰è‰¯å¥½çš„ç½‘ç»œç¯å¢ƒï¼Œå¯èƒ½éœ€è¦æŒ‚ğŸªœï¼Œå¦åˆ™å¯èƒ½å¯¼è‡´æ‰“åŒ…å¤±è´¥ï¼‰

ç­‰å¾…æ‰“åŒ…å®Œæ¯•ï¼Œé»˜è®¤è¾“å‡ºè·¯å¾„åœ¨æ ¹ç›®å½•ï¼Œå¯ä»¥å¢åŠ EAS_LOCAL_BUILD_ARTIFACTS_DIRç¯å¢ƒå˜é‡æŒ‡å®šè¾“å‡ºè·¯å¾„  
ç¤ºä¾‹ï¼šEAS_LOCAL_BUILD_ARTIFACTS_DIR=./release eas build -p android --profile preview --local

```bash
eas build -p android --profile preview --local
```
